@using Newtonsoft.Json.Linq

@if (previewModel != null)
{
    @if (previewModel.Type == JTokenType.Object)
    {
        <MudGrid>
            <MudItem>
                <MudPaper Class="d-flex align-center justify-center mud-width-full py-8 mud-theme-secondary">
                    <MudButton Variant="Variant.Filled" Color="Color.Primary">
                        @previewModel["FirstName"].ToString()
                    </MudButton>
                    @if(@previewModel["City"] != null)
                    {
                        <MudButton Variant="Variant.Filled" Color="Color.Primary">
                            @(previewModel["FirstName"].ToString() + "'s City")
                        </MudButton>
                    }
                </MudPaper>
            </MudItem>
        </MudGrid>
    }
    else if (previewModel.Type == JTokenType.Array)
    {
        @foreach (JToken jt in previewModel)
        {
            <MudGrid>
                <MudItem>
                    <MudPaper Class="d-flex align-center justify-center mud-width-full py-8 mud-theme-secondary">
                        <MudButton Variant="Variant.Filled" Color="Color.Primary">
                            @jt["FirstName"].ToString()
                        </MudButton>
                        @if(@jt["City"] != null)
                        {
                            <MudButton Variant="Variant.Filled" Color="Color.Primary">
                                @(jt["FirstName"].ToString() + "'s City")
                            </MudButton>
                        }
                    </MudPaper>
                </MudItem>
            </MudGrid>
        }
    }
}

@code {
    [Parameter]
    public JToken? previewModel { get; set; }
}